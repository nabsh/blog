// language-toggle.js
(function() {
  document.addEventListener('DOMContentLoaded', function() {
    const toggle = document.querySelector('.language-toggle');
    if (toggle) {
      toggle.addEventListener('click', function() {
        const currentLang = document.documentElement.lang;
        const newLang = currentLang === 'fr' ? 'en' : 'fr';
        const pathSegments = window.location.pathname.split('/');
        
        // Adaptation pour les articles
        if (pathSegments.includes('posts')) {
          pathSegments[pathSegments.length - 1] = `index.${newLang}.html`;
        } else {
          pathSegments[pathSegments.length - 1] = pathSegments[pathSegments.length - 1]
            .replace(/(\.en)?\.html$/, `.${newLang}.html`);
        }
        
        window.location.href = pathSegments.join('/');
      });
    }
  });
})();